<div ng-include="'templates/non-public/navbar-view.html'"></div>
<div class="row">
    <div class="col-sm-12">
        <div class="timeline-container">
            <img ng-src="{{userWallData.coverImageData}}" alt="timeline" class="user-timeline-image"/>
            <img ng-src="{{userWallData.profileImageData}}" alt="timeline" class="img-thumbnail user-profile-image"/>
            <span class="user-wall-fullName">{{userWallData.name}}</span>
            <a href="" class="btn btn-success btn-lg btn-isFriend" ng-show="userWallData.isFriend === true">Friend</a>
            <a href="" class="btn btn-danger btn-lg btn-isFriend" ng-show="userWallData.isFriend === false">Add friend</a>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-8">
        <div class="modal-dialog" ng-repeat="feed in wallFeeds">
            <div class="modal-content" data-id="{{feed.id}}">
                <div class="modal-header">
                    <a href="" class="thumbnail pull-left">
                        <img alt="img" ng-src="{{feed.author.profileImageData}}"/>
                    </a>
                    <span class="modal-title">{{feed.author.name}}</span>
                    <div>
                        <span class="modal-posted-date"><strong>Posted at </strong>{{feed.date | date: "dd MMM yyyy 'at' HH:mm:ss"}}</span>
                    </div>
                </div>
                <div class="modal-body">
                    <p>{{feed.postContent}}</p>
                </div>
                <div class="modal-footer">
                    <div class="pull-left">
                        <button type="button" ng-hide="feed.liked" ng-click="likePost(feed.id)" class="btn btn-default btn-success btn-vote" data-dismiss="modal">Like
                            <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                        </button>
                        <button type="button" ng-show="feed.liked" ng-click="dislikePost(feed.id)" class="btn btn-default btn-danger btn-vote" data-dismiss="modal">Dislike
                            <span class="glyphicon glyphicon-thumbs-down" aria-hidden="true"></span>
                        </button>
                        <span class="badge">likes {{feed.likesCount}}</span>
                    </div>
                    <div class="form-group comment-box">
                        <label class="control-label pull-left" for="inputLarge">Post your comment</label>
                        <input ng-model="commentRawContent" class="form-control input-lg" type="text" id="inputLarge">
                    </div>
                    <span class="badge">{{feed.comments.length}}</span>
                    <button ng-click="addCommentToPost(feed, commentRawContent)" type="button" id="{{feed.id}}" class="btn btn-primary" >Comment
                        <span class="glyphicon glyphicon-comment" aria-hidden="true"></span>
                    </button>
                </div>
                <div class="panel panel-default post-comments-container" ng-repeat="comment in feed.comments">
                    <div class="panel-heading">
                        <img ng-src="{{comment.author.profileImageData}}" class="img-thumbnail comment-user-image" alt="image"/>
                        <span class="panel-title"><strong>{{comment.author.name}}</strong> posted at {{comment.date | date: "dd/MM/yy HH:mm:ss"}}</span>
                    </div>
                    <div class="panel-body">
                        {{comment.commentContent}}
                    </div>
                    <div class="container-comment-votes">
                        <div class="pull-right ">
                            <span class="badge">likes {{comment.likesCount}}</span>
                            <button type="button" ng-click="likeComment(feed.id, comment.id)" ng-hide="comment.liked" class="btn btn-xs btn-success btn-vote-comment" data-dismiss="modal">
                                <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                            </button>
                            <button type="button" ng-click="dislikeComment(feed.id, comment.id)" ng-show="comment.liked" class="btn btn-xs btn-danger btn-vote-comment" data-dismiss="modal">
                                <span class="glyphicon glyphicon-thumbs-down" aria-hidden="true"></span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <form class="form-horizontal" name="feedForm">
            <div>
                <label for="feedCommentBox">Make post on {{wallFeeds[0].wallOwner.name}}'s wall</label>
            </div>
                <span class="label label-danger error" ng-show="feedForm.commentBox.$error.minlength">
                        Min post length is 2 letters!
                </span>
            <textarea name="commentBox" ng-model="post.postContent" minlength="2" required id="feedCommentBox" placeholder="Enter message"></textarea>

            <button ng-click="addWallPost(post)" ng-disabled="feedForm.$invalid" class="btn btn-success btn-post-feed">Post</button>
        </form>
        <div ng-include="'templates/non-public/friends-friendsPreview-view.html'"></div>
    </div>
</div>